#!/bin/sh

if [ -z "$MAX_PROCS" ]; then
    MAX_PROCS=10
fi

PATH=$PATH:$HOME/cibh/scripts

if which parallel >/dev/null; then
    cat $* | parallel --no-notice -X -j $MAX_PROCS 'build-snmp-config {}'
elif which par >/dev/null; then
    par -n $MAX_PROCS -q -c "build-snmp-config {}" $*
else
    build-snmp-config `cat $*`
fi
