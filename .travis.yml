language: perl
sudo: true
before_install:
    - "sudo apt-get -yq update"
    - "sudo apt-get -yq install graphviz snmp-mibs-downloader libsnmp-perl libgd-gd2-perl libmojolicious-perl libmodule-install-perl libtest-most-perl"
    - "cpanm Module::Path"
    - "cp $(/usr/bin/perl $(which mpath) SNMP) $HOME/perl5/lib/perl5"
    - "cp $(/usr/bin/perl $(which mpath) GD) $HOME/perl5/lib/perl5"

perl:
    - "blead"
    - "dev"
    - "5.20"
    - "5.18"
    - "5.16"
    - "5.14"

matrix:
  include:
    - perl: 5.18
      env: COVERAGE=1   # enables coverage+coveralls reporting
  allow_failures:
    - perl: blead       # ignore failures for blead perl
    - perl: dev         # ignore failures for dev perl
