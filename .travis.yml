language: perl
sudo: true
before_install:
    - "sudo apt-get -yq update"
    - "sudo apt-get -yq install graphviz libsnmp-perl libmojolicious-perl libmodule-install-perl libtest-most-perl"
    - "sudo apt-get -yq build-dep libgd-gd2-perl"
    - "sudo /usr/bin/perl $HOME/perl5/perlbrew/bin/cpanm Module::Path"
    - "cpanm GD"
    - "cp $(/usr/bin/perl $(which mpath) SNMP) $(perl -E 'say @INC[0]')"

perl:
    - "5.20"
    - "5.18"
    - "5.16"
    - "5.14"

matrix:
  include:
    - perl: 5.18
      env: COVERAGE=1   # enables coverage+coveralls reporting
  allow_failures:
    - perl: blead       # ignore failures for blead perl
    - perl: dev         # ignore failures for dev perl
