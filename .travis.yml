language: perl
sudo: true
before_install:
    - "sudo apt-get -yq update"
    - "sudo apt-get -yq --force-yes --no-install-recommends --no-install-suggests install graphviz snmp-mibs-downloader"
    - "sudo apt-get -yq build-dep libsnmp-perl libgd-gd2-perl"

install:
    - "cpanm --quiet --notest --installdeps ."

perl:
    - "blead"
    - "dev"
    - "5.20"
    - "5.18"
    - "5.16"
    - "5.14"

matrix:
  include:
    - perl: 5.18
      env: COVERAGE=1   # enables coverage+coveralls reporting
  allow_failures:
    - perl: blead       # ignore failures for blead perl
    - perl: dev         # ignore failures for dev perl
